<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Traviling Dragon: Referência da Classe RankingScreen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="dragao (1).png"/></td>
  <td id="projectalign">
   <div id="projectname">Traviling Dragon<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Traveling Dragon é uma releitura autoral do clássico Flappy Bird. Neste jogo, você controla um dragão aventureiro que sai de sua caverna para explorar o mundo. A cada novo cenário, o tempo passa mais rápido, o dia clareia, escurece, e por fim o dragão mergulha em uma noite eterna, repleta de obstáculos desafiadores.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Busca',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_ranking_screen.html','','class_ranking_screen-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Carregando...</div>
<div class="SRStatus" id="Searching">Procurando...</div>
<div class="SRStatus" id="NoMatches">Nenhuma entrada encontrado</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Referência da Classe RankingScreen</div></div>
</div><!--header-->
<div class="contents">

<p>Gerencia e exibe a tela de ranking de pontuações do jogo.  
 <a href="#details">Mais...</a></p>

<p><code>#include &lt;<a class="el" href="_ranking_screen_8hpp_source.html">RankingScreen.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Membros Públicos</h2></td></tr>
<tr class="memitem:aa16377511357457860b86d192ed767ca" id="r_aa16377511357457860b86d192ed767ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa16377511357457860b86d192ed767ca">RankingScreen</a> (ALLEGRO_FONT *font, ALLEGRO_BITMAP *rankingBackground, <a class="el" href="class_player_manager.html">PlayerManager</a> *pm, int screenW, int screenH)</td></tr>
<tr class="memdesc:aa16377511357457860b86d192ed767ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construtor da classe <a class="el" href="class_ranking_screen.html" title="Gerencia e exibe a tela de ranking de pontuações do jogo.">RankingScreen</a>.  <br /></td></tr>
<tr class="memitem:a95c3d8880db715c26e115266febd9b0a" id="r_a95c3d8880db715c26e115266febd9b0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95c3d8880db715c26e115266febd9b0a">render</a> (<a class="el" href="class_player.html">Player</a> *currentPlayer, float deltaTime)</td></tr>
<tr class="memdesc:a95c3d8880db715c26e115266febd9b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renderiza todos os elementos visuais da tela de ranking.  <br /></td></tr>
<tr class="memitem:a328e4c7eb60e4c5d392cfcacc273b224" id="r_a328e4c7eb60e4c5d392cfcacc273b224"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a328e4c7eb60e4c5d392cfcacc273b224">update</a> (float deltaTime)</td></tr>
<tr class="memdesc:a328e4c7eb60e4c5d392cfcacc273b224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atualiza a lógica interna da tela de ranking. Principalmente usada para animar a rolagem do fundo.  <br /></td></tr>
<tr class="memitem:a40a7b1fe20dcbc6e7702f855963379f8" id="r_a40a7b1fe20dcbc6e7702f855963379f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40a7b1fe20dcbc6e7702f855963379f8">handleEvent</a> (ALLEGRO_EVENT ev)</td></tr>
<tr class="memdesc:a40a7b1fe20dcbc6e7702f855963379f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processa um evento do Allegro específico para a tela de ranking.  <br /></td></tr>
<tr class="memitem:ab9ab38445a55ef93ca94dff6cfae867f" id="r_ab9ab38445a55ef93ca94dff6cfae867f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9ab38445a55ef93ca94dff6cfae867f">resetState</a> ()</td></tr>
<tr class="memdesc:ab9ab38445a55ef93ca94dff6cfae867f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reseta o estado interno da tela de ranking. Usado para garantir que a tela não saia imediatamente ao ser carregada se uma tecla de saída já estiver pressionada.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Descrição detalhada</h2>
<div class="textblock"><p>Gerencia e exibe a tela de ranking de pontuações do jogo. </p>
<p>Esta classe é responsável por buscar os dados dos jogadores, ordená-los por pontuação e exibi-los em um formato de ranking na tela, permitindo também a rolagem visual do fundo. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Construtores e Destrutores</h2>
<a id="aa16377511357457860b86d192ed767ca" name="aa16377511357457860b86d192ed767ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16377511357457860b86d192ed767ca">&#9670;&#160;</a></span>RankingScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RankingScreen::RankingScreen </td>
          <td>(</td>
          <td class="paramtype">ALLEGRO_FONT *</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ALLEGRO_BITMAP *</td>          <td class="paramname"><span class="paramname"><em>rankingBackground</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_player_manager.html">PlayerManager</a> *</td>          <td class="paramname"><span class="paramname"><em>pm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>screenW</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>screenH</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construtor da classe <a class="el" href="class_ranking_screen.html" title="Gerencia e exibe a tela de ranking de pontuações do jogo.">RankingScreen</a>. </p>
<p>Inicializa a tela de ranking com os recursos visuais e os dados do jogador.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">font</td><td>Ponteiro para a fonte Allegro a ser usada para o texto do ranking. </td></tr>
    <tr><td class="paramname">rankingBackground</td><td>Ponteiro para o bitmap de fundo específico da tela de ranking. </td></tr>
    <tr><td class="paramname">pm</td><td>Ponteiro para o <a class="el" href="class_player_manager.html" title="Gerencia o armazenamento e a manipulação dos dados de todos os jogadores.">PlayerManager</a>, para acessar os dados dos jogadores. </td></tr>
    <tr><td class="paramname">screenW</td><td>Largura da tela de exibição. </td></tr>
    <tr><td class="paramname">screenH</td><td>Altura da tela de exibição.</td></tr>
    <tr><td class="paramname">f</td><td>Ponteiro para a fonte a ser usada no texto. </td></tr>
    <tr><td class="paramname">rankingBackground</td><td>Ponteiro para o bitmap de fundo da tela de ranking. </td></tr>
    <tr><td class="paramname">pm</td><td>Ponteiro para o <a class="el" href="class_player_manager.html" title="Gerencia o armazenamento e a manipulação dos dados de todos os jogadores.">PlayerManager</a>, que gerencia os dados dos jogadores. </td></tr>
    <tr><td class="paramname">screenW</td><td>Largura da tela atual do jogo. </td></tr>
    <tr><td class="paramname">screenH</td><td>Altura da tela atual do jogo. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   33</span>    : font(f),</div>
<div class="line"><span class="lineno">   34</span>      rankingBackground(rankingBackground),</div>
<div class="line"><span class="lineno">   35</span>      playerManager(pm),</div>
<div class="line"><span class="lineno">   36</span>      SCREEN_W(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(screenW)), <span class="comment">// Converte para float para cálculos</span></div>
<div class="line"><span class="lineno">   37</span>      SCREEN_H(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(screenH)), <span class="comment">// Converte para float para cálculos</span></div>
<div class="line"><span class="lineno">   38</span>      waitingForKeyPress(<span class="keyword">true</span>) <span class="comment">// Começa esperando por um input para sair</span></div>
<div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>    <span class="comment">// Dimensões de design para cálculo da escala</span></div>
<div class="line"><span class="lineno">   41</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> DESIGN_W = 1280.0f;</div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> DESIGN_H = 720.0f;</div>
<div class="line"><span class="lineno">   43</span>    <span class="comment">// Calcula os fatores de escala para ajustar o conteúdo à resolução atual</span></div>
<div class="line"><span class="lineno">   44</span>    scale_x = SCREEN_W / DESIGN_W;</div>
<div class="line"><span class="lineno">   45</span>    scale_y = SCREEN_H / DESIGN_H;</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="comment">// Verificações de segurança para garantir que os assets e gerenciadores foram passados</span></div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">if</span> (!font) {</div>
<div class="line"><span class="lineno">   49</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;AVISO RANKINGSCREEN: Fonte nao carregada no construtor.\n&quot;</span>;</div>
<div class="line"><span class="lineno">   50</span>    }</div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">if</span> (!playerManager) {</div>
<div class="line"><span class="lineno">   52</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;AVISO RANKINGSCREEN: PlayerManager e nulo no construtor.\n&quot;</span>;</div>
<div class="line"><span class="lineno">   53</span>    }</div>
<div class="line"><span class="lineno">   54</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Documentação das funções</h2>
<a id="a40a7b1fe20dcbc6e7702f855963379f8" name="a40a7b1fe20dcbc6e7702f855963379f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a7b1fe20dcbc6e7702f855963379f8">&#9670;&#160;</a></span>handleEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RankingScreen::handleEvent </td>
          <td>(</td>
          <td class="paramtype">ALLEGRO_EVENT</td>          <td class="paramname"><span class="paramname"><em>ev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processa um evento do Allegro específico para a tela de ranking. </p>
<p>Lida com eventos de entrada na tela de ranking.</p>
<p>Lida com eventos de teclado, como o pressionamento de uma tecla para retornar ao menu principal.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>O evento Allegro a ser processado. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Um código inteiro indicando a ação desejada: 0 (nenhuma), 1 (voltar ao menu).</dd></dl>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>O evento Allegro a ser processado. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>1 se uma tecla for pressionada (sinal para voltar ao menu), 0 caso contrário. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  178</span>                                               {</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (ev.type == ALLEGRO_EVENT_KEY_DOWN) {</div>
<div class="line"><span class="lineno">  180</span>        waitingForKeyPress = <span class="keyword">false</span>; <span class="comment">// Sinaliza que uma tecla foi pressionada</span></div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">return</span> 1; <span class="comment">// Retorna 1 para indicar que a tela deve ser fechada/navegada</span></div>
<div class="line"><span class="lineno">  182</span>    }</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">return</span> 0; <span class="comment">// Nenhum evento relevante processado</span></div>
<div class="line"><span class="lineno">  184</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a95c3d8880db715c26e115266febd9b0a" name="a95c3d8880db715c26e115266febd9b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c3d8880db715c26e115266febd9b0a">&#9670;&#160;</a></span>render()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RankingScreen::render </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_player.html">Player</a> *</td>          <td class="paramname"><span class="paramname"><em>currentPlayer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>deltaTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renderiza todos os elementos visuais da tela de ranking. </p>
<p>Renderiza a tela de ranking, exibindo os jogadores e suas pontuações.</p>
<p>Exibe a lista de jogadores com suas pontuações, destacando o jogador atual se ele estiver presente no ranking. Também renderiza o fundo com rolagem.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentPlayer</td><td>Ponteiro para o jogador atual, que pode ser destacado no ranking. Pode ser nullptr. </td></tr>
    <tr><td class="paramname">deltaTime</td><td>O tempo decorrido desde a última atualização (usado para rolagem do fundo).</td></tr>
    <tr><td class="paramname">currentPlayer</td><td>Ponteiro para o jogador atual (pode ser nulo). Se presente, a linha do jogador atual será destacada. </td></tr>
    <tr><td class="paramname">deltaTime</td><td>Tempo decorrido desde a última atualização (não usado diretamente no render). </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   72</span>                                                                 {</div>
<div class="line"><span class="lineno">   73</span>    <span class="comment">// Desenha o fundo da tela de ranking</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span> (rankingBackground) {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordtype">int</span> bg_w = al_get_bitmap_width(rankingBackground);</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordtype">int</span> bg_h = al_get_bitmap_height(rankingBackground);</div>
<div class="line"><span class="lineno">   77</span>        <span class="comment">// Calcula a escala para cobrir toda a tela, mantendo a proporção da imagem</span></div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordtype">float</span> bg_scale = std::max(SCREEN_W / (<span class="keywordtype">float</span>)bg_w, SCREEN_H / (<span class="keywordtype">float</span>)bg_h);</div>
<div class="line"><span class="lineno">   79</span>        al_draw_scaled_bitmap(rankingBackground, 0, 0, bg_w, bg_h, 0, 0, bg_w * bg_scale, bg_h * bg_scale, 0);</div>
<div class="line"><span class="lineno">   80</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   81</span>        <span class="comment">// Fallback: se o background for nulo, pinta a tela de preto</span></div>
<div class="line"><span class="lineno">   82</span>        al_clear_to_color(al_map_rgb(0, 0, 0));</div>
<div class="line"><span class="lineno">   83</span>    }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">// Retorna se a fonte não estiver carregada para evitar erros de desenho</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">if</span> (!font) {</div>
<div class="line"><span class="lineno">   87</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;ERRO: Fonte do ranking nao carregada. (RankingScreen::render)\n&quot;</span>;</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="comment">// Desenha um painel preto semi-transparente arredondado para melhorar a legibilidade</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordtype">float</span> panelX1 = 80 * scale_x;</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordtype">float</span> panelY1 = 60 * scale_y;</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordtype">float</span> panelX2 = SCREEN_W - 80 * scale_x;</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordtype">float</span> panelY2 = SCREEN_H - 150 * scale_y;</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordtype">float</span> cornerRadius = 10 * scale_x;</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    al_draw_filled_rounded_rectangle(panelX1, panelY1, panelX2, panelY2,</div>
<div class="line"><span class="lineno">   99</span>                                     cornerRadius, cornerRadius, al_map_rgba(0, 0, 0, 180)); <span class="comment">// 180 de alpha = ~70% opaco</span></div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// Desenha o título do ranking</span></div>
<div class="line"><span class="lineno">  102</span>    al_draw_text(font, al_map_rgb(255, 255, 0), SCREEN_W / 2.0f, 90.0f * scale_y, ALLEGRO_ALIGN_CENTER, <span class="stringliteral">&quot;RANKING - TOP 10&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordtype">float</span> y = 140.0f * scale_y; <span class="comment">// Posição Y inicial para os cabeçalhos das colunas</span></div>
<div class="line"><span class="lineno">  105</span>    <span class="comment">// Define as posições X para cada coluna, centralizadas ou alinhadas conforme necessário</span></div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordtype">float</span> colPos = SCREEN_W / 2.0f - 390.0f * scale_x;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordtype">float</span> colNome = SCREEN_W / 2.0f - 220.0f * scale_x;</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordtype">float</span> colPontos = SCREEN_W / 2.0f + 110.0f * scale_x;</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordtype">float</span> colPartidas = SCREEN_W / 2.0f + 255.0f * scale_x;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="comment">// Desenha os cabeçalhos das colunas</span></div>
<div class="line"><span class="lineno">  112</span>    al_draw_text(font, al_map_rgb(200, 200, 200), colPos, y, 0, <span class="stringliteral">&quot;POSIÇÃO&quot;</span>);</div>
<div class="line"><span class="lineno">  113</span>    al_draw_text(font, al_map_rgb(200, 200, 200), colNome, y, 0, <span class="stringliteral">&quot;NOME&quot;</span>);</div>
<div class="line"><span class="lineno">  114</span>    al_draw_text(font, al_map_rgb(200, 200, 200), colPontos, y, 0, <span class="stringliteral">&quot;PONTOS&quot;</span>);</div>
<div class="line"><span class="lineno">  115</span>    al_draw_text(font, al_map_rgb(200, 200, 200), colPartidas, y, 0, <span class="stringliteral">&quot;PARTIDAS&quot;</span>);</div>
<div class="line"><span class="lineno">  116</span>    y += 40.0f * scale_y; <span class="comment">// Avança a posição Y para a primeira linha de dados</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">// Obtém a lista de jogadores do PlayerManager e a ordena por pontuação</span></div>
<div class="line"><span class="lineno">  119</span>    std::vector&lt;Player&gt; jogadores = playerManager-&gt;getJogadores();</div>
<div class="line"><span class="lineno">  120</span>    std::sort(jogadores.begin(), jogadores.end(), comparePlayersByScore);</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordtype">int</span> colocacaoAtual = -1; <span class="comment">// Variável para armazenar a colocação do jogador atual</span></div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (currentPlayer) {</div>
<div class="line"><span class="lineno">  124</span>        <span class="comment">// Encontra a colocação do jogador atual na lista ordenada</span></div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; jogadores.size(); ++i) {</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">if</span> (jogadores[i].getApelido() == currentPlayer-&gt;<a class="code hl_function" href="class_player.html#ae0b366d1327869afe60cbdd58a9c959d">getApelido</a>()) {</div>
<div class="line"><span class="lineno">  127</span>                colocacaoAtual = (int)i + 1; <span class="comment">// Colocação é o índice + 1</span></div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  129</span>            }</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="comment">// Desenha os dados do TOP 10 jogadores</span></div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; jogadores.size() &amp;&amp; i &lt; 10; ++i) {</div>
<div class="line"><span class="lineno">  135</span>        <span class="keyword">const</span> Player&amp; p = jogadores[i];</div>
<div class="line"><span class="lineno">  136</span>        ALLEGRO_COLOR cor = al_map_rgb(255, 255, 255); <span class="comment">// Cor padrão branca</span></div>
<div class="line"><span class="lineno">  137</span>        <span class="comment">// Se for o jogador atual, destaca a linha com cor verde</span></div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">if</span> (currentPlayer &amp;&amp; p.<a class="code hl_function" href="class_player.html#ae0b366d1327869afe60cbdd58a9c959d">getApelido</a>() == currentPlayer-&gt;<a class="code hl_function" href="class_player.html#ae0b366d1327869afe60cbdd58a9c959d">getApelido</a>()) {</div>
<div class="line"><span class="lineno">  139</span>            cor = al_map_rgb(0, 255, 0);</div>
<div class="line"><span class="lineno">  140</span>        }</div>
<div class="line"><span class="lineno">  141</span>        <span class="comment">// Desenha os dados de cada jogador nas colunas correspondentes</span></div>
<div class="line"><span class="lineno">  142</span>        al_draw_textf(font, cor, colPos, y, 0, <span class="stringliteral">&quot;%d&quot;</span>, (<span class="keywordtype">int</span>)i + 1);</div>
<div class="line"><span class="lineno">  143</span>        al_draw_text(font, cor, colNome, y, 0, p.<a class="code hl_function" href="class_player.html#ae0b366d1327869afe60cbdd58a9c959d">getApelido</a>().c_str());</div>
<div class="line"><span class="lineno">  144</span>        al_draw_textf(font, cor, colPontos, y, 0, <span class="stringliteral">&quot;%d&quot;</span>, p.<a class="code hl_function" href="class_player.html#a508b46467591ea369ac910010a22a492">getMaiorPontuacao</a>());</div>
<div class="line"><span class="lineno">  145</span>        al_draw_textf(font, cor, colPartidas, y, 0, <span class="stringliteral">&quot;%d&quot;</span>, p.<a class="code hl_function" href="class_player.html#ab4324e9a711b3679464352a2b5bcbfbc">getPartidas</a>());</div>
<div class="line"><span class="lineno">  146</span>        y += 30.0f * scale_y; <span class="comment">// Avança para a próxima linha</span></div>
<div class="line"><span class="lineno">  147</span>    }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    y += 20.0f * scale_y; <span class="comment">// Espaçamento extra antes da mensagem do jogador atual</span></div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">// Mensagem sobre a colocação do jogador atual</span></div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (currentPlayer) {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">if</span> (colocacaoAtual != -1) {</div>
<div class="line"><span class="lineno">  154</span>            std::string msg = <span class="stringliteral">&quot;Sua colocação: &quot;</span> + std::to_string(colocacaoAtual);</div>
<div class="line"><span class="lineno">  155</span>            al_draw_text(font, al_map_rgb(0, 255, 0), SCREEN_W / 2.0f, y, ALLEGRO_ALIGN_CENTER, msg.c_str());</div>
<div class="line"><span class="lineno">  156</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  157</span>            <span class="comment">// Se o jogador não está no top 10 ou não tem pontos ainda</span></div>
<div class="line"><span class="lineno">  158</span>            <span class="keywordflow">if</span> (currentPlayer-&gt;<a class="code hl_function" href="class_player.html#ab4324e9a711b3679464352a2b5bcbfbc">getPartidas</a>() == 0) {</div>
<div class="line"><span class="lineno">  159</span>                al_draw_text(font, al_map_rgb(255, 0, 0), SCREEN_W / 2.0f, y, ALLEGRO_ALIGN_CENTER, <span class="stringliteral">&quot;Você ainda não jogou!&quot;</span>);</div>
<div class="line"><span class="lineno">  160</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  161</span>                al_draw_text(font, al_map_rgb(255, 0, 0), SCREEN_W / 2.0f, y, ALLEGRO_ALIGN_CENTER, <span class="stringliteral">&quot;Sem registro no ranking (score baixo).&quot;</span>);</div>
<div class="line"><span class="lineno">  162</span>            }</div>
<div class="line"><span class="lineno">  163</span>        }</div>
<div class="line"><span class="lineno">  164</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  165</span>        <span class="comment">// Mensagem caso nenhum jogador atual seja passado (ex: acessando o ranking direto do menu sem jogar)</span></div>
<div class="line"><span class="lineno">  166</span>        al_draw_text(font, al_map_rgb(255, 0, 0), SCREEN_W / 2.0f, y, ALLEGRO_ALIGN_CENTER, <span class="stringliteral">&quot;Você ainda não jogou!&quot;</span>);</div>
<div class="line"><span class="lineno">  167</span>    }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">// Mensagem para o usuário voltar ao menu</span></div>
<div class="line"><span class="lineno">  170</span>    al_draw_text(font, al_map_rgb(255, 255, 255), SCREEN_W / 2.0f, SCREEN_H - 80.0f * scale_y, ALLEGRO_ALIGN_CENTER, <span class="stringliteral">&quot;Pressione qualquer tecla para voltar&quot;</span>);</div>
<div class="line"><span class="lineno">  171</span>}</div>
<div class="ttc" id="aclass_player_html_a508b46467591ea369ac910010a22a492"><div class="ttname"><a href="class_player.html#a508b46467591ea369ac910010a22a492">Player::getMaiorPontuacao</a></div><div class="ttdeci">int getMaiorPontuacao() const</div><div class="ttdoc">Retorna a maior pontuação já alcançada pelo jogador.</div><div class="ttdef"><b>Definição</b> Player.cpp:39</div></div>
<div class="ttc" id="aclass_player_html_ab4324e9a711b3679464352a2b5bcbfbc"><div class="ttname"><a href="class_player.html#ab4324e9a711b3679464352a2b5bcbfbc">Player::getPartidas</a></div><div class="ttdeci">int getPartidas() const</div><div class="ttdoc">Retorna o número de partidas jogadas pelo jogador.</div><div class="ttdef"><b>Definição</b> Player.cpp:33</div></div>
<div class="ttc" id="aclass_player_html_ae0b366d1327869afe60cbdd58a9c959d"><div class="ttname"><a href="class_player.html#ae0b366d1327869afe60cbdd58a9c959d">Player::getApelido</a></div><div class="ttdeci">std::string getApelido() const</div><div class="ttdoc">Retorna o apelido do jogador.</div><div class="ttdef"><b>Definição</b> Player.cpp:27</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9ab38445a55ef93ca94dff6cfae867f" name="ab9ab38445a55ef93ca94dff6cfae867f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ab38445a55ef93ca94dff6cfae867f">&#9670;&#160;</a></span>resetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RankingScreen::resetState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reseta o estado interno da tela de ranking. Usado para garantir que a tela não saia imediatamente ao ser carregada se uma tecla de saída já estiver pressionada. </p>
<p>Reseta o estado da tela de ranking. Útil para reexibir a tela. </p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>                               {</div>
<div class="line"><span class="lineno">  191</span>    waitingForKeyPress = <span class="keyword">true</span>; <span class="comment">// Reinicia o estado de espera por uma tecla</span></div>
<div class="line"><span class="lineno">  192</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a328e4c7eb60e4c5d392cfcacc273b224" name="a328e4c7eb60e4c5d392cfcacc273b224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a328e4c7eb60e4c5d392cfcacc273b224">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RankingScreen::update </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>deltaTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atualiza a lógica interna da tela de ranking. Principalmente usada para animar a rolagem do fundo. </p>
<p>Atualiza o estado da tela de ranking.</p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">deltaTime</td><td>O tempo decorrido desde a última atualização.</td></tr>
    <tr><td class="paramname">deltaTime</td><td>Tempo decorrido desde a última atualização (atualmente não usado). Esta tela é estática, então não há lógica de atualização dinâmica aqui. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                                          {</div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">// Nada pra atualizar no fundo estático, por enquanto.</span></div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">// Se tivéssemos elementos animados no ranking, seria aqui.</span></div>
<div class="line"><span class="lineno">   64</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>A documentação para essa classe foi gerada a partir dos seguintes arquivos:<ul>
<li>include/<a class="el" href="_ranking_screen_8hpp_source.html">RankingScreen.hpp</a></li>
<li>src/<a class="el" href="_ranking_screen_8cpp.html">RankingScreen.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_ranking_screen.html">RankingScreen</a></li>
    <li class="footer">Gerado por <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
